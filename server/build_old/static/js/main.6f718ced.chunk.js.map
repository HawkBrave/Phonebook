{"version":3,"sources":["components/Filter.js","components/Person.js","components/Persons.js","components/PersonForm.js","services/persons.js","App.js","index.js"],"names":["Filter","handleChange","search","setSearch","value","onChange","Person","person","handleClick","name","number","onClick","Persons","persons","filter","p","toLowerCase","includes","map","id","PersonForm","addPerson","newName","setNewName","newNumber","setNewNumber","onSubmit","type","baseUrl","getAll","a","fetch","response","json","create","body","method","headers","JSON","stringify","update","del","App","useState","setPersons","useEffect","personService","then","data","catch","err","console","log","func","event","target","preventDefault","newPerson","check","window","confirm","concat","ReactDOM","render","StrictMode","document","getElementById"],"mappings":"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","file":"static/js/main.6f718ced.chunk.js","sourcesContent":["import React, { useState } from 'react';\n\nconst Filter = ({ handleChange, search, setSearch}) => {\n  return (\n    <div>\n      filter shown with <input value={search} onChange={handleChange(setSearch)}/>\n    </div>\n  );\n}\n\nexport default Filter","import React from 'react';\n\nconst Person = ({ person, handleClick }) => {\n  return (\n    <li>\n      {person.name} {person.number} <button onClick={handleClick}>delete</button>\n    </li>\n  );\n}\n\nexport default Person;","import React from 'react';\nimport Person from './Person';\n\nconst Persons = ({ persons, search, handleClick }) => {\n  const display = () => {\n    if (search !== \"\") {\n      return persons.filter(p => p.name.toLowerCase().includes(search.toLowerCase()))\n        .map(p => <Person \n          key={p.id} \n          person={p}\n          handleClick={() => handleClick(p.id)}\n        />);\n    } else {\n      return persons.map(p => <Person \n        key={p.id} \n        person={p}\n        handleClick={() => handleClick(p.id)}\n      />);\n    }\n  }\n  return (\n    <ul>\n      {display()}\n    </ul>\n  );\n}\n\nexport default Persons;","import React from 'react';\n\nconst PersonForm = ({ addPerson, newName, setNewName, newNumber, setNewNumber, handleChange }) => {\n  \n  return (\n    <form onSubmit={addPerson}>\n      <div>\n        name: <input value={newName} onChange={handleChange(setNewName)}/>\n      </div>\n      <div>\n        number: <input value={newNumber} onChange={handleChange(setNewNumber)}/>\n      </div>\n      <div>\n        <button type=\"submit\">add</button>\n      </div>\n    </form>\n  );\n}\n\nexport default PersonForm;","const baseUrl = '/api/persons';\n\nconst getAll = async () => {\n  const response = await fetch(baseUrl);\n  return response.json();\n}\n\nconst create = async (body) => {\n  const response = await fetch(baseUrl, {\n    method: 'POST',\n    headers: { 'Content-Type': 'application/json' },\n    body: JSON.stringify(body)\n  });\n  return response.json();\n}\n\nconst update = async (body, id) => {\n  const response = await fetch(`${baseUrl}/${id}`, {\n    method: 'PUT',\n    headers: { 'Content-Type': 'application/json' },\n    body: JSON.stringify(body)\n  });\n  return response.json();\n}\n\nconst del = async (id) => {\n  const response = await fetch(`${baseUrl}/${id}`, {\n    method: 'DELETE'\n  });\n  return response;\n}\n\nexport default {\n  getAll,\n  create,\n  update,\n  del\n};","import React, { useState, useEffect } from 'react';\nimport Filter from './components/Filter';\nimport Persons from './components/Persons';\nimport PersonForm from './components/PersonForm';\nimport personService from './services/persons';\n\nfunction App() {\n  const [ persons, setPersons ] = useState([]);\n  const [ newName, setNewName ] = useState('');\n  const [ newNumber, setNewNumber ] = useState('');\n  const [ search, setSearch ] = useState('');\n\n  useEffect(() => {\n     personService\n      .getAll()\n      .then(data => setPersons(data))\n      .catch(err => console.log(err));\n  }, []);\n\n  const handleChange = (func) => (event) => {\n    func(event.target.value);\n  }\n\n  const addPerson = (event) => {\n    event.preventDefault();\n    const newPerson = {\n      name: newName,\n      number: newNumber\n    };\n    const [check] = persons.filter(p => p.name.toLowerCase() === newPerson.name.toLowerCase());\n    if (persons.includes(check)) {\n      if (window.confirm(\"There's already a person with the same name, do you want to update the phone number?\")) {\n        personService\n          .update(newPerson, check.id)\n          .then(data => {\n            setPersons(persons.map(p => p.id === check.id ? data : p));\n          });\n      }\n    } else {\n      personService\n        .create(newPerson)\n        .then(data => {\n          setPersons(persons.concat(data))\n        });\n    }\n    setNewName('');\n    setNewNumber('');\n  }\n\n  const deletePerson = id => {\n    if (window.confirm(`Do you want to delete ${persons.filter(p => p.id === id)[0].name} from your phonebook?`)) {\n      personService\n        .del(id)\n        .then(data => {\n          setPersons(persons.filter(p => p.id !== id));\n        })\n    } \n  }\n\n  return (\n    <div>\n      <h1>Phonebook</h1>\n      <Filter \n        handleChange={handleChange}\n        setSearch={setSearch}\n      /> \n      <h2>add a new</h2>\n      <PersonForm \n        addPerson={addPerson}\n        newName={newName}\n        setNewName={setNewName}\n        newNumber={newNumber}\n        setNewNumber={setNewNumber}\n        handleChange={handleChange}\n      /> \n      <h2>Numbers</h2>\n      <Persons \n        persons={persons} \n        search={search}\n        handleClick={deletePerson}\n      /> \n    </div>\n  );\n}\n\nexport default App;\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport App from './App';\n\nReactDOM.render(\n  <React.StrictMode>\n    <App />\n  </React.StrictMode>,\n  document.getElementById('root')\n);"],"sourceRoot":""}